<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialResize Pro - Redimensionador de Im√°genes para Redes y Documentos | 2025</title>
    <meta name="description" content="Herramienta para redimensionar im√°genes para redes sociales, fotos de pasaporte, documentos y tama√±os personalizados. Con presets y optimizaci√≥n para creadores.">
    <meta name="keywords" content="redimensionar imagen, foto pasaporte, tama√±o personalizado, youtube, instagram, tiktok, facebook, adsterra">
    
    <style>
        /* (El CSS es el mismo que el anterior, con la adici√≥n de estilos para los anuncios) */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --youtube-gradient: linear-gradient(135deg, #ff0000 0%, #ff4444 100%);
            --instagram-gradient: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%);
            --tiktok-gradient: linear-gradient(135deg, #ff0050 0%, #00f2ea 100%);
            --twitter-gradient: linear-gradient(135deg, #1da1f2 0%, #0d8bd9 100%);
            --linkedin-gradient: linear-gradient(135deg, #0077b5 0%, #005885 100%);
            --facebook-gradient: linear-gradient(135deg, #1877f2 0%, #166fe5 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            
            --bg-primary: #0a0a0f;
            --bg-secondary: #1a1a2e;
            --bg-card: rgba(26, 26, 46, 0.9);
            --bg-preset: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: #b4b4b4;
            --text-accent: #667eea;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 12px 48px rgba(102, 126, 234, 0.3);
            --blur-bg: blur(15px);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 16px;
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        [data-theme="light"] {
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-card: rgba(255, 255, 255, 0.95);
            --bg-preset: rgba(0, 0, 0, 0.03);
            --text-primary: #1a202c;
            --text-secondary: #718096;
            --border-color: rgba(0, 0, 0, 0.1);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-primary); background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; overflow-x: hidden; }
        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; display: grid; grid-template-columns: 1fr 350px; gap: 2rem; }
        .main-card { background: var(--bg-card); backdrop-filter: var(--blur-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 2.5rem; box-shadow: var(--shadow-soft); position: relative; overflow: hidden; }
        .upload-area { border: 2px dashed var(--border-color); border-radius: var(--border-radius); padding: 3rem 2rem; text-align: center; cursor: pointer; transition: var(--transition); position: relative; overflow: hidden; background: var(--bg-preset); }
        .upload-area:hover, .upload-area.dragover { border-color: var(--text-accent); background: rgba(102, 126, 234, 0.08); }
        .platform-tabs, .presets-grid, .controls, .results, .sidebar { margin-top: 1.5rem; }
        .platform-tab { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 25px; padding: 0.6rem 1.2rem; cursor: pointer; transition: var(--transition); }
        .platform-tab.active { background: var(--primary-gradient); color: white; box-shadow: var(--shadow-hover); }
        .preset-card { background: var(--bg-preset); border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 1rem; cursor: pointer; transition: var(--transition); }
        .preset-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-hover); }
        .presets-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
        .platform-tabs { display: flex; gap: 0.5rem; flex-wrap: wrap; }
        .controls { display: none; animation: fadeInUp 0.5s ease; }
        .results { display: none; animation: fadeInUp 0.5s ease; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem; }
        .preview-image { max-width: 100%; height: auto; border-radius: 8px; border: 1px solid var(--border-color); }
        .sidebar-card { background: var(--bg-card); backdrop-filter: var(--blur-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 1.5rem; box-shadow: var(--shadow-soft); }
        .sidebar { display: flex; flex-direction: column; gap: 1.5rem; }
        .input-group input, .input-group select { width: 100%; padding: 0.8rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--border-radius); color: var(--text-primary); font-size: 1rem; }
        .process-btn { background: var(--primary-gradient); border: none; border-radius: var(--border-radius); padding: 1.2rem 2rem; color: white; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: var(--transition); width: 100%; margin-top: 1.5rem; }
        .process-btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .loading { display: inline-block; width: 20px; height: 20px; border: 3px solid rgba(255, 255, 255, 0.3); border-radius: 50%; border-top-color: #fff; animation: spin 1s ease-in-out infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Estilos para Espacios Publicitarios */
        .ad-space {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px dashed var(--border-color);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-family: monospace;
            margin: 2rem auto;
            text-align: center;
            padding: 1rem;
        }
        .ad-sidebar {
            min-height: 250px; /* Adsterra 300x250 o similar */
        }
        .ad-results-banner {
            min-height: 90px; /* Adsterra 728x90 o 468x60 */
            width: 100%;
        }
        .ad-bottom-banner {
             min-height: 90px; /* Adsterra 728x90 o 468x60 */
             width: 100%;
        }


        @media (max-width: 1200px) { .container { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .results-grid { grid-template-columns: 1fr; } .main-card { padding: 1.5rem; } }
    </style>
</head>
<body data-theme="dark">
    <div class="container">
        <main>
            <div class="main-card">
                <h1>El Redimensionador de Im√°genes Definitivo</h1>
                <p>Crea contenido para redes sociales, fotos para documentos y m√°s con tama√±os perfectos.</p>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üñºÔ∏è</div>
                    <p><strong>Arrastra tu imagen aqu√≠</strong></p>
                    <p>o haz clic para seleccionar un archivo</p>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </div>

                <div class="controls" id="controls">
                    <div class="presets-section">
                        <h3>Presets por Categor√≠a</h3>
                        <div class="platform-tabs">
                             <button class="platform-tab active" data-platform="youtube">üì∫ YouTube</button>
                             <button class="platform-tab" data-platform="instagram">üì∏ Instagram</button>
                             <button class="platform-tab" data-platform="documents">ü™™ Documentos</button>
                             <button class="platform-tab" data-platform="facebook">üìò Facebook</button>
                             <button class="platform-tab" data-platform="twitter">üê¶ Twitter/X</button>
                        </div>
                        <div class="presets-grid" id="presetsGrid"></div>
                    </div>

                    <div class="custom-size-section">
                         <h3>Tama√±o Personalizado</h3>
                         <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                            <div class="input-group">
                                <label for="width">Ancho (px)</label>
                                <input type="number" id="width" min="1" placeholder="1920">
                            </div>
                            <div class="input-group">
                                <label for="height">Alto (px)</label>
                                <input type="number" id="height" min="1" placeholder="1080">
                            </div>
                         </div>
                         <div style="margin-top: 1rem;">
                            <input type="checkbox" id="keepAspect" checked>
                            <label for="keepAspect">Mantener Proporci√≥n</label>
                         </div>
                    </div>
                    
                    <button class="process-btn" id="processBtn">
                        <span id="btnText">Redimensionar Imagen</span>
                    </button>
                </div>

                <div class="ad-space ad-bottom-banner">
                    <p>Espacio Publicitario (Banner)</p>
                </div>

                <div class="results" id="results">
                    <h2>üéâ ¬°Listo! Tu imagen ha sido transformada.</h2>
                    
                    <div class="ad-space ad-results-banner">
                       <p>Espacio Publicitario (Resultados)</p>
                    </div>

                    <div class="results-grid">
                        <div class="result-item">
                            <h4>üì∑ Original</h4>
                            <img id="originalPreview" class="preview-image" alt="Vista previa original">
                            <div id="originalInfo"></div>
                        </div>
                        <div class="result-item">
                            <h4>‚ú® Redimensionada</h4>
                            <img id="processedPreview" class="preview-image" alt="Vista previa procesada">
                            <div id="processedInfo"></div>
                            <a id="downloadBtn" class="process-btn" style="text-decoration: none; display: block; text-align: center;">üì• Descargar</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <aside class="sidebar">
            <div class="sidebar-card">
                 <div class="ad-space ad-sidebar">
                    <p>Espacio Publicitario (Sidebar)</p>
                </div>
            </div>
            <div class="sidebar-card">
                <h3>üí° Consejos</h3>
                <ul>
                    <li>Para pasaportes, usa un fondo blanco o de color claro.</li>
                    <li>Usa WebP para im√°genes en la web para una carga m√°s r√°pida.</li>
                    <li>Un PNG es mejor si tu imagen tiene un fondo transparente.</li>
                </ul>
            </div>
             <div class="sidebar-card">
                <h3>üìä Estad√≠sticas</h3>
                <p>Im√°genes Procesadas: <span id="imagesProcessed">0</span></p>
            </div>
        </aside>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- VARIABLES GLOBALES ---
        let currentImage = null;
        let originalFile = null;
        let processedCount = 0;

        // --- ELEMENTOS DEL DOM ---
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const controls = document.getElementById('controls');
        const results = document.getElementById('results');
        const widthInput = document.getElementById('width');
        const heightInput = document.getElementById('height');
        const keepAspectCheckbox = document.getElementById('keepAspect');
        const processBtn = document.getElementById('processBtn');
        const btnText = document.getElementById('btnText');
        const presetsGrid = document.getElementById('presetsGrid');
        const platformTabs = document.querySelectorAll('.platform-tab');
        const originalPreview = document.getElementById('originalPreview');
        const processedPreview = document.getElementById('processedPreview');
        const originalInfo = document.getElementById('originalInfo');
        const processedInfo = document.getElementById('processedInfo');
        const downloadBtn = document.getElementById('downloadBtn');
        const imagesProcessedSpan = document.getElementById('imagesProcessed');
        
        // --- BASE DE DATOS DE PRESETS ---
        const platformPresets = {
            documents: [
                { name: "Pasaporte (EE.UU.)", width: 600, height: 600, icon: "üá∫üá∏", description: "2x2 pulgadas a 300 DPI" },
                { name: "Pasaporte (Europa)", width: 413, height: 531, icon: "üá™üá∫", description: "35x45 mm a 300 DPI" },
                { name: "C√©dula/ID Card", width: 255, height: 325, icon: "ü™™", description: "Tama√±o com√∫n para DNI" },
            ],
            youtube: [
                { name: "Banner de Canal", width: 2560, height: 1440, icon: "üé¨", description: "Para todos los dispositivos" },
                { name: "Thumbnail Video", width: 1280, height: 720, icon: "üñºÔ∏è", description: "Ratio 16:9" },
            ],
            instagram: [
                { name: "Post Cuadrado", width: 1080, height: 1080, icon: "‚¨ú", description: "Cl√°sico 1:1" },
                { name: "Story / Reel", width: 1080, height: 1920, icon: "üìñ", description: "Vertical 9:16" },
            ],
            facebook: [
                { name: "Cover Photo", width: 851, height: 315, icon: "üèûÔ∏è", description: "Portada de perfil" },
                { name: "Post Image", width: 1200, height: 630, icon: "üìù", description: "Para publicaciones" },
            ],
            twitter: [
                { name: "Header", width: 1500, height: 500, icon: "üé®", description: "Banner del perfil" },
                { name: "Post Image", width: 1024, height: 512, icon: "üìù", description: "Ratio 2:1" },
            ],
        };

        // --- MANEJO DE ARCHIVOS ---
        uploadArea.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleFileSelect);
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            uploadArea.addEventListener(eventName, preventDefaults, false);
        });
        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        uploadArea.addEventListener('drop', handleDrop, false);
        
        function handleDrop(e) {
            let dt = e.dataTransfer;
            let file = dt.files[0];
            handleFile(file);
        }

        function handleFileSelect(e) {
            handleFile(e.target.files[0]);
        }
        
        function handleFile(file) {
            if (!file || !file.type.startsWith('image/')) {
                alert('Por favor, selecciona un archivo de imagen v√°lido.');
                return;
            }
            originalFile = file;
            const reader = new FileReader();
            reader.onload = (e) => {
                currentImage = new Image();
                currentImage.onload = () => {
                    widthInput.value = currentImage.width;
                    heightInput.value = currentImage.height;
                    controls.style.display = 'block';
                    results.style.display = 'none';
                };
                currentImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        // --- L√ìGICA DE LA INTERFAZ ---
        function loadPresets(platform) {
            presetsGrid.innerHTML = '';
            const presets = platformPresets[platform] || [];
            presets.forEach(p => {
                const presetEl = document.createElement('div');
                presetEl.className = 'preset-card';
                presetEl.innerHTML = `<strong>${p.icon} ${p.name}</strong><br><small>${p.width} √ó ${p.height} px</small>`;
                presetEl.onclick = () => applyPreset(p.width, p.height);
                presetsGrid.appendChild(presetEl);
            });
        }
        
        function applyPreset(width, height) {
            widthInput.value = width;
            heightInput.value = height;
        }

        platformTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                platformTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                loadPresets(tab.dataset.platform);
            });
        });

        // --- L√ìGICA DE REDIMENSIONAMIENTO ---
        widthInput.addEventListener('input', () => {
            if (keepAspectCheckbox.checked && currentImage) {
                const aspectRatio = currentImage.height / currentImage.width;
                heightInput.value = Math.round(widthInput.value * aspectRatio);
            }
        });
        
        heightInput.addEventListener('input', () => {
            if (keepAspectCheckbox.checked && currentImage) {
                const aspectRatio = currentImage.width / currentImage.height;
                widthInput.value = Math.round(heightInput.value * aspectRatio);
            }
        });
        
        processBtn.addEventListener('click', () => {
            if (!currentImage) {
                alert('Por favor, carga una imagen primero.');
                return;
            }

            const width = parseInt(widthInput.value);
            const height = parseInt(heightInput.value);

            if (isNaN(width) || isNaN(height) || width <= 0 || height <= 0) {
                alert('Por favor, introduce un ancho y alto v√°lidos.');
                return;
            }

            setLoading(true);

            // Simular un peque√±o retraso para que la UI se actualice
            setTimeout(() => {
                const canvas = document.createElement('canvas');
                canvas.width = width;
                canvas.height = height;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(currentImage, 0, 0, width, height);

                const processedDataUrl = canvas.toDataURL(originalFile.type, 0.95);
                
                showResults(processedDataUrl, width, height);
                setLoading(false);
            }, 100);
        });

        function setLoading(isLoading) {
            if (isLoading) {
                processBtn.disabled = true;
                btnText.innerHTML = '<span class="loading"></span> Procesando...';
            } else {
                processBtn.disabled = false;
                btnText.textContent = 'Redimensionar Imagen';
            }
        }
        
        function showResults(processedDataUrl, width, height) {
            // Mostrar vistas previas
            originalPreview.src = currentImage.src;
            processedPreview.src = processedDataUrl;

            // Mostrar informaci√≥n de la imagen original
            const originalSizeKB = (originalFile.size / 1024).toFixed(1);
            originalInfo.innerHTML = `<p><strong>Dimensiones:</strong> ${currentImage.width}√ó${currentImage.height}px</p><p><strong>Tama√±o:</strong> ${originalSizeKB} KB</p>`;
            
            // Mostrar informaci√≥n de la imagen procesada
            const processedSizeBytes = atob(processedDataUrl.split(',')[1]).length;
            const processedSizeKB = (processedSizeBytes / 1024).toFixed(1);
            const reduction = Math.round(100 - (processedSizeBytes / originalFile.size) * 100);
            processedInfo.innerHTML = `<p><strong>Dimensiones:</strong> ${width}√ó${height}px</p><p><strong>Tama√±o:</strong> ${processedSizeKB} KB</p><p><strong>Ahorro:</strong> ${reduction}%</p>`;

            // Configurar bot√≥n de descarga
            const extension = originalFile.name.split('.').pop();
            downloadBtn.href = processedDataUrl;
            downloadBtn.download = `redimensionado_${width}x${height}.${extension}`;

            // Mostrar secci√≥n de resultados
            results.style.display = 'block';

            // Actualizar estad√≠sticas
            processedCount++;
            imagesProcessedSpan.textContent = processedCount;
        }

        // --- INICIALIZACI√ìN ---
        loadPresets('youtube'); // Cargar presets iniciales
    });
    </script>
</body>
</html>
